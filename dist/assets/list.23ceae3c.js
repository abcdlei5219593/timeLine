import{_ as R,d as I,a as F,b as y,N as j,g as r,h as T,i as U,j as d,k as t,w as a,l as E,I as $,p as m,A as f,L as z}from"./index.b8feb55c.js";import"./dayjs.67f44c3e.js";const K=[[104.065735,30.657299],[104.066101,30.657452],[104.066523,30.657628],[104.067012,30.657834],[104.067562,30.658071],[104.068167,30.658341],[104.068821,30.658647],[104.069518,30.658991],[104.070253,30.659375],[104.071019,30.659802],[104.071811,30.660274],[104.072623,30.660793],[104.073449,30.661361],[104.074283,30.661981],[104.075119,30.662655],[104.075952,30.663385],[104.076775,30.664173],[104.077583,30.665021],[104.078371,30.665931],[104.079133,30.666905],[104.079864,30.667945],[104.080559,30.669052],[104.081213,30.670228],[104.081821,30.671475],[104.082379,30.672794],[104.082882,30.674186],[104.083326,30.675653],[104.083707,30.677196],[104.084021,30.678816],[104.084265,30.680514],[104.084435,30.682291],[104.084528,30.684148],[104.084541,30.686085],[104.084471,30.688103],[104.084315,30.690202],[104.084071,30.692383],[104.083736,30.694646],[104.083308,30.696991],[104.082785,30.699418],[104.082165,30.701927],[104.081446,30.704518],[104.080627,30.70719],[104.079706,30.709943],[104.078682,30.712776],[104.077554,30.715689],[104.076321,30.718681],[104.074982,30.721751],[104.073536,30.724899],[104.071983,30.728123],[104.070322,30.731423],[104.068553,30.734797],[104.066675,30.738245],[104.064689,30.741765],[104.062595,30.745356],[104.060393,30.749017],[104.058083,30.752746],[104.055666,30.756542],[104.053142,30.760403],[104.050512,30.764328],[104.047776,30.768315],[104.044936,30.772362],[104.041992,30.776468],[104.038945,30.780631],[104.035796,30.784849],[104.032547,30.78912],[104.029199,30.793442],[104.025753,30.797814],[104.022211,30.802233],[104.018574,30.806697],[104.014844,30.811204],[104.011023,30.815752],[104.007112,30.820338],[104.003113,30.824961],[103.999028,30.829618],[103.994859,30.834307],[103.990608,30.839026],[103.986277,30.843772],[103.981868,30.848543],[103.977383,30.853337],[103.972825,30.858151],[103.968195,30.862983],[103.963496,30.86783],[103.95873,30.87269],[103.9539,30.87756],[103.949008,30.882438],[103.944057,30.887321],[103.939049,30.892207],[103.933987,30.897093],[103.928873,30.901977],[103.92371,30.906856],[103.918501,30.911728],[103.913248,30.91659],[103.907954,30.92144],[103.902622,30.926275],[103.897255,30.931093],[103.891855,30.935891],[103.886425,30.940667],[103.880968,30.945418],[103.875487,30.950142],[103.869985,30.954837],[103.864464,30.9595],[103.858928,30.964129],[103.853379,30.968722],[103.84782,30.973276],[103.842254,30.97779],[103.836684,30.982261],[103.831113,30.986687],[103.825543,30.991066],[103.819978,30.995396],[103.81442,30.999675],[103.808873,31.003901],[103.803338,31.008073],[103.797819,31.012188],[103.792319,31.016245],[103.78684,31.020242],[103.781385,31.024178],[103.775957,31.02805],[103.770558,31.031858],[103.765191,31.0356],[103.759859,31.039274],[103.754564,31.042879],[103.749309,31.046414],[103.744096,31.049877],[103.738928,31.053267],[103.733807,31.056584],[103.728736,31.059826],[103.723717,31.062992],[103.718752,31.066082],[103.713844,31.069095],[103.708995,31.07203],[103.704207,31.074886],[103.699482,31.077663],[103.694822,31.080361],[103.69023,31.082979],[103.685707,31.085517],[103.681255,31.087975],[103.676876,31.090352],[103.672572,31.092649],[103.668345,31.094865],[103.664196,31.097001],[103.660127,31.099057],[103.65614,31.101033],[103.652236,31.102929],[103.648417,31.104746],[103.644684,31.106484],[103.641038,31.108144],[103.637481,31.109726],[103.634014,31.111231],[103.630638,31.11266],[103.627354,31.114014],[103.624163,31.115293],[103.621066,31.116499],[103.618064,31.117632],[103.615157,31.118694],[103.612347,31.119685],[103.609634,31.120607],[103.607019,31.121461],[103.604502,31.122248],[103.602084,31.122969],[103.599766,31.123626],[103.597547,31.12422],[103.595428,31.124752],[103.59341,31.125224],[103.591492,31.125637],[103.589675,31.125993],[103.587958,31.126293],[103.586342,31.126539],[103.584827,31.126732],[103.583412,31.126874],[103.582097,31.126966],[103.580882,31.12701],[103.579767,31.127008],[103.578751,31.126961],[103.577834,31.126871],[103.577016,31.126739],[103.576296,31.126567],[103.575674,31.126357],[103.575149,31.12611],[103.574721,31.125828],[103.57439,31.125513],[103.574154,31.125166],[103.574014,31.124789],[103.573968,31.124384],[103.574016,31.123952],[103.574158,31.123495],[103.574392,31.123015],[103.574718,31.122513],[103.575135,31.121991],[103.575642,31.121451],[103.576238,31.120895],[103.576922,31.120324],[103.577693,31.119741],[103.57855,31.119147],[103.579492,31.118544],[103.580518,31.117934],[103.581626,31.117319],[103.582816,31.1167],[103.584086,31.116079],[103.585435,31.115458],[103.586862,31.114839],[103.588365,31.114223],[103.589943,31.113612],[103.591595,31.113008],[103.593319,31.112412],[103.595114,31.111826],[103.596978,31.111252],[103.59891,31.110691],[103.600908,31.110145],[103.602971,31.109615],[103.605097,31.109103],[103.607285,31.10861],[103.609533,31.108138],[103.611839,31.107689],[103.614202,31.107263],[103.61662,31.106862],[103.619091,31.106487],[103.621614,31.10614],[103.624187,31.105822],[103.626808,31.105534]],W=()=>K.reverse(),L=[{id:"1",label:"\u8F66\u961F1",children:[{id:"1-1",label:"\u5DDDA12345"},{id:"1-2",label:"\u5DDDB67890"},{id:"1-3",label:"\u5DDDC54321"}]},{id:"2",label:"\u8F66\u961F2",children:[{id:"2-1",label:"\u5DDDD98765"},{id:"2-2",label:"\u5DDDE43210"}]}];const S={class:"main-content"},q={class:"flex-box",id:"mapParentContainer",style:{height:"100%"}},G={class:"left-box"},H={class:"map-layout"},J={class:"tool-box"},O={class:"input-item"},Q={class:"input-item"},X=I({__name:"list",setup(Z){const w=F(null);y({});let u=[],s=null;const n=y({beginDate:"",carNumber:"",endDate:""});F([]);const _=F(50),h=y({1:"\u6162\u901F",50:"\u6B63\u5E38",100:"\u5FEB\u901F"}),v=({height:o})=>{const e=document.getElementById("mapParentContainer");e.style.height=o+"px"},b=o=>{s=o},g=o=>{window.polyline&&window.polyline.setMap(null),window.passedPolyline&&window.passedPolyline.setMap(null),window.polyline=new AMap.Polyline({map:s,path:o,showDir:!0,strokeColor:"#28F",strokeWeight:6}),window.passedPolyline=new AMap.Polyline({map:s,strokeColor:"#AF5",strokeWeight:6}),window.marker=new AMap.Marker({map:s,position:o[0],icon:"https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png",offset:new AMap.Pixel(-13,-26)}),window.marker.on("moving",function(e){window.passedPolyline.setPath(e.passedPath),s.setCenter(e.target.getPosition(),!0),console.log(e)}),s.setFitView()},M=function(){if(!u||u.length===0){f.error("\u8BF7\u5148\u67E5\u8BE2\u6709\u6548\u8F68\u8FF9\u6570\u636E");return}window.marker.moveAlong(u,{duration:101-_.value,autoRotation:!0})},C=function(){window.marker.pauseMove()},B=function(){window.marker.resumeMove()},D=()=>{window.marker&&window.marker.stopMove&&window.marker.stopMove(),window.polyline&&(window.polyline.setMap(null),window.polyline=null),window.passedPolyline&&(window.passedPolyline.setMap(null),window.passedPolyline=null),window.marker&&(window.marker.setMap(null),window.marker=null)},P=()=>{n.beginDate="",n.endDate="",n.carNumber="",D(),u=[],w.value&&w.value.setCurrentKey&&w.value.setCurrentKey(null)},A=async()=>{if(!n.beginDate){f.error("\u8BF7\u9009\u62E9\u5F00\u59CB\u65E5\u671F");return}if(!n.carNumber){f.error("\u8BF7\u9009\u62E9\u8F66\u8F86");return}const o={beginDate:n.beginDate,endDate:n.endDate||z().format("YYYY-MM-DD"),carNumber:n.carNumber};try{u=await W(o),D(),g(u)}catch{f.error("\u8F68\u8FF9\u6570\u636E\u67E5\u8BE2\u5931\u8D25")}},x=o=>{const e=!(o.children&&o.children.length);n.carNumber=e?o.label:""};return j(_,o=>{if(window.marker){const e=window.marker.getPosition(),c=u.findIndex(l=>l[0]===e.lng&&l[1]===e.lat);if(c!==-1){const l=u.slice(c);window.marker.stopMove(),window.marker.setPosition(l[0]),window.marker.moveAlong(l,{duration:101-o,autoRotation:!0})}}}),(o,e)=>{const c=r("el-date-picker"),l=r("el-form-item"),p=r("el-button"),N=r("el-form"),k=r("el-card"),V=r("el-slider"),Y=r("MyMap");return T(),U("div",S,[d("section",q,[d("section",G,[t(k,{header:"\u6761\u4EF6\u67E5\u8BE2",class:"tree-card"},{default:a(()=>[t(N,{"label-position":"top",model:n},{default:a(()=>[t(l,{label:"\u5F00\u59CB\u65E5\u671F\uFF1A"},{default:a(()=>[t(c,{modelValue:n.beginDate,"onUpdate:modelValue":e[0]||(e[0]=i=>n.beginDate=i),type:"date",format:"YYYY-MM-DD",placeholder:"\u5F00\u59CB\u65E5\u671F"},null,8,["modelValue"])]),_:1}),t(l,{label:"\u7ED3\u675F\u65E5\u671F\uFF1A"},{default:a(()=>[t(c,{modelValue:n.endDate,"onUpdate:modelValue":e[1]||(e[1]=i=>n.endDate=i),type:"date",format:"YYYY-MM-DD",placeholder:"\u5F00\u59CB\u65E5\u671F"},null,8,["modelValue"])]),_:1}),t(l,{label:"\u9009\u62E9\u8F66\u8F86\uFF1A"},{default:a(()=>[t(E($),{ref_key:"treeRef",ref:w,"highlight-current":!0,"node-key":"id",data:E(L),onNodeClick:x},null,8,["data"])]),_:1}),t(l,{style:{"text-align":"center"}},{default:a(()=>[t(p,{type:"primary",onClick:A},{default:a(()=>[m("\u67E5 \u8BE2")]),_:1}),t(p,{onClick:P},{default:a(()=>[m("\u91CD \u7F6E")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(k,{header:"\u56DE\u653E\u901F\u5EA6",class:"bottom-card"},{default:a(()=>[t(V,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=i=>_.value=i),"show-tooltip":!1,step:50,marks:h},null,8,["modelValue","marks"])]),_:1})]),d("div",H,[t(Y,{onInit:b,onResize:v},{default:a(()=>[d("section",J,[d("div",O,[t(p,{value:"",type:"primary",id:"start",onClick:e[3]||(e[3]=i=>M())},{default:a(()=>[m("\u5F00\u59CB\u52A8\u753B")]),_:1}),t(p,{value:"",type:"primary",id:"pause",onClick:e[4]||(e[4]=i=>C())},{default:a(()=>[m("\u6682\u505C\u52A8\u753B")]),_:1})]),d("div",Q,[t(p,{value:"",type:"primary",id:"resume",onClick:e[5]||(e[5]=i=>B())},{default:a(()=>[m("\u7EE7\u7EED\u52A8\u753B")]),_:1})])])]),_:1})])])])}}});var o1=R(X,[["__scopeId","data-v-f3e14598"]]);export{o1 as default};
//# sourceMappingURL=list.23ceae3c.js.map
