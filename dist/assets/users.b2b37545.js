import{u as M}from"./useTableSetting.9e0ce64d.js";import{_ as H,d as L,r as p,a as _,x as O,o as P,y as s,b as q,e as G,g as e,w as u,k as i,m as z,f as F,h as C,z as J,A as K,L as Q,B as W}from"./index.a0482b44.js";/* empty css                   *//* empty css                 */const X={class:"main-content"},Y={class:"btns"},Z={class:"dialog-form"},ee={class:"dialog-footer"},le=L({__name:"users",setup(ue){const x=p([{id:1,code:"xc-001",name:"\u6D4B\u8BD5\u9879\u76EE",unit:"\u5355\u4F4D\u540D\u79F0",date:"2023-09-10",user:"\u5F20\u4E09",kaigong:"2023-09-10",status:1}]),g=p(null);p({});const o=_({code:"",name:"",unit:"",date:"",user:"",status:"",pageNum:1,pageSize:20}),h=p(0),k=_({roleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",trigger:"blur"}]}),f=async()=>{},y=async t=>{await Q.confirm("\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u4EA4",{confirmButtonText:"\u786E  \u5B9A",cancelButtonText:"\u53D6  \u6D88",type:"warning"})},w=()=>{g.value.resetFields(),o.pageNum=1,f()},N=t=>{o.pageNum=1,o.pageSize=t,f()},T=t=>{o.pageNum=t,f()},m=p(!1),E=p(null),n=_({id:"",code:"",name:"",unit:"",date:"",user:"",status:"",phone:""}),b=t=>{Object.keys(t).forEach(l=>n[l]="")};O(m,t=>{t||(E.value.clearValidate(),b(n))});const S=async t=>{await W(t),b()},A=async t=>{m.value=!0,Object.keys(t).forEach(l=>{l in n&&(n[l]=t[l])})};P(()=>{f()});const{maxTableHeight:U,setTableMaxHeight:ae}=M({id:"userTable",offsetBottom:92});return(t,l)=>{const D=s("ElInput"),d=s("ElFormItem"),v=s("ElSelect"),r=s("ElButton"),V=s("ElForm"),c=s("ElTableColumn"),$=s("ElTable"),I=s("ElPagination"),B=s("el-input"),R=s("ElDialog");return q(),G("div",X,[e(V,{ref_key:"searchFormRef",ref:g,model:o,inline:"",class:"search-form","label-width":"68px","label-position":"left"},{default:u(()=>[e(d,{label:"\u59D3\u540D",prop:"code"},{default:u(()=>[e(D,{modelValue:o.code,"onUpdate:modelValue":l[0]||(l[0]=a=>o.code=a),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u5E10\u53F7",prop:"name"},{default:u(()=>[e(D,{modelValue:o.name,"onUpdate:modelValue":l[1]||(l[1]=a=>o.name=a),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u89D2\u8272",prop:"user"},{default:u(()=>[e(v,{modelValue:o.user,"onUpdate:modelValue":l[2]||(l[2]=a=>o.user=a),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(d,null,{default:u(()=>[e(r,{size:"default",color:"#4371EE"},{default:u(()=>[i(" \u67E5\u8BE2 ")]),_:1}),e(r,{size:"default",plain:"",onClick:w},{default:u(()=>[i(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"]),z(" </ElCol> "),F("div",Y,[e(r,{class:"add-btn",color:"#4371EE",size:"default",icon:C(J),onClick:l[3]||(l[3]=a=>m.value=!0)},{default:u(()=>[i(" \u6DFB\u52A0\u6210\u5458 ")]),_:1},8,["icon"])]),e($,{border:"",id:"userTable",class:"table",data:x.value,style:K({height:`${C(U)}px`,overflow:"auto"})},{default:u(()=>[e(c,{prop:"code",label:"\u5E10\u53F7"}),e(c,{prop:"name",label:"\u59D3\u540D"}),e(c,{prop:"unit",label:"\u9879\u76EE\u89D2\u8272"}),e(c,{prop:"date",label:"\u52A0\u5165\u65F6\u95F4"}),e(c,{fixed:"right",label:"\u64CD\u4F5C",width:"120"},{default:u(a=>[e(r,{link:"",type:"text",size:"default",onClick:j=>A(a.row)},{default:u(()=>[i(" \u4FEE\u6539 ")]),_:2},1032,["onClick"]),e(r,{link:"",type:"text",size:"default",onClick:j=>y(a.row)},{default:u(()=>[i(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","style"]),e(I,{class:"pagination",background:"",layout:"total,sizes,prev, pager, next,jumper",total:h.value,"current-page":o.pageNum,"page-sizes":[10,20,50,100],"page-size":o.pageSize,onSizeChange:N,onCurrentChange:T},null,8,["total","current-page","page-size"]),z("\u65B0\u589E\u6216\u7F16\u8F91\u89D2\u8272"),e(R,{class:"main-dialog",modelValue:m.value,"onUpdate:modelValue":l[9]||(l[9]=a=>m.value=a),title:n.id?"\u6DFB\u52A0\u6210\u5458":"\u4FEE\u6539\u6210\u5458",width:"480px"},{footer:u(()=>[F("span",ee,[e(r,{size:"default",onClick:l[7]||(l[7]=a=>m.value=!1)},{default:u(()=>[i("\u53D6 \u6D88")]),_:1}),e(r,{color:"#4371EE",size:"default",onClick:l[8]||(l[8]=a=>S(E.value))},{default:u(()=>[i("\u63D0 \u4EA4")]),_:1})])]),default:u(()=>[F("div",Z,[e(V,{ref_key:"addFormRef",ref:E,model:n,rules:k,"label-width":"80px","label-position":"left"},{default:u(()=>[e(d,{label:"\u5E10\u53F7",prop:"roleName"},{default:u(()=>[e(B,{modelValue:n.code,"onUpdate:modelValue":l[4]||(l[4]=a=>n.code=a),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u6210\u5458\u540D\u79F0",prop:"roleName"},{default:u(()=>[e(B,{modelValue:n.name,"onUpdate:modelValue":l[5]||(l[5]=a=>n.name=a),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u89D2\u8272"},{default:u(()=>[e(v,{modelValue:n.status,"onUpdate:modelValue":l[6]||(l[6]=a=>n.status=a),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"])])}}});var de=H(le,[["__scopeId","data-v-6d9ea45a"]]);export{de as default};
