import{u as L}from"./useTableSetting.198d7378.js";import{_ as G,d as K,r as c,a as A,x as Q,o as W,y as r,b as X,c as Z,f as e,w as a,j as n,l as T,e as t,g as I,z as ee,A as ue,t as f,B as le,p as ae,q as te}from"./index.4d3a0603.js";const E=D=>(ae("data-v-28fe4f27"),D=D(),te(),D),oe={class:"main-content"},se={class:"btns"},de={class:"dialog-form"},ne={class:"dialog-footer"},ie={class:"dialog-form"},pe={class:"details"},re={class:"details-item"},me=E(()=>t("label",null,"\u9879\u76EE\u7F16\u53F7\uFF1A",-1)),Ee={class:"details-item"},Fe=E(()=>t("label",null,"\u9879\u76EE\u540D\u79F0\uFF1A",-1)),ce={class:"details-item"},fe=E(()=>t("label",null,"\u59D4\u6258\u5355\u4F4D\uFF1A",-1)),_e={class:"details-item"},be=E(()=>t("label",null,"\u9879\u76EE\u5DE5\u671F\uFF1A",-1)),De={class:"details-item"},ge=E(()=>t("label",null,"\u8D1F\u8D23\u4EBA\uFF1A",-1)),ve={class:"details-item"},Ve=E(()=>t("label",null,"\u8054\u7CFB\u7535\u8BDD\uFF1A",-1)),Be={class:"details-item"},he=E(()=>t("label",null,"\u9879\u76EE\u72B6\u6001\uFF1A",-1)),xe=E(()=>t("li",{class:"details-item"},[t("label",null,"\u9879\u76EE\u6210\u5458\uFF1A")],-1)),ze={class:"dialog-form",style:{display:"flex","justify-content":"space-between","align-items":"stretch"}},Ce={style:{width:"490px"}},ye=E(()=>t("p",null,"\u672A\u6DFB\u52A0\u6210\u5458",-1)),Ae={style:{width:"490px"}},ke=E(()=>t("p",null,"\u5DF2\u6DFB\u52A0\u6210\u529F",-1)),we=K({__name:"list",setup(D){const g=c([{id:1,code:"xc-001",name:"\u6D4B\u8BD5\u9879\u76EE",unit:"\u5355\u4F4D\u540D\u79F0",date:"2023-09-10",user:"\u5F20\u4E09",kaigong:"2023-09-10",status:1}]),k=c(null),d=A({code:"",name:"",unit:"",date:"",user:"",status:"",pageNum:1,pageSize:20}),Y=c(0),$=A({roleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",trigger:"blur"}]}),v=async()=>{},M=()=>{k.value.resetFields(),d.pageNum=1,v()},j=i=>{d.pageNum=1,d.pageSize=i,v()},O=i=>{d.pageNum=i,v()},_=c(!1),B=c(null),s=A({id:"",code:"",name:"",unit:"",date:"",user:"",status:"",phone:""}),w=i=>{Object.keys(i).forEach(u=>s[u]="")};Q(_,i=>{i||(B.value.clearValidate(),w(s))});const R=async i=>{await le(i),w()},q=async i=>{_.value=!0,Object.keys(i).forEach(u=>{u in s&&(s[u]=i[u])})},h=c(!1),F=c({id:1,code:"xc-001",name:"\u6D4B\u8BD5\u9879\u76EE",unit:"\u5355\u4F4D\u540D\u79F0",date:"2023-09-10",user:"\u5F20\u4E09",kaigong:"2023-09-10",phone:"1277001122",status:1}),H=i=>{h.value=!0,F.value=JSON.parse(JSON.stringify(i))},x=c(!1);W(()=>{v()});const{maxTableHeight:J,setTableMaxHeight:Ne}=L({id:"userTable",offsetBottom:92});return(i,u)=>{const z=r("ElInput"),p=r("ElFormItem"),N=r("el-date-picker"),C=r("ElSelect"),m=r("ElButton"),S=r("ElForm"),o=r("ElTableColumn"),V=r("ElTable"),P=r("ElPagination"),b=r("el-input"),y=r("ElDialog");return X(),Z("div",oe,[e(S,{ref_key:"searchFormRef",ref:k,model:d,inline:"",class:"search-form","label-width":"68px","label-position":"left"},{default:a(()=>[e(p,{label:"\u9879\u76EE\u7F16\u53F7",prop:"code"},{default:a(()=>[e(z,{modelValue:d.code,"onUpdate:modelValue":u[0]||(u[0]=l=>d.code=l),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u9879\u76EE\u540D\u79F0",prop:"name"},{default:a(()=>[e(z,{modelValue:d.name,"onUpdate:modelValue":u[1]||(u[1]=l=>d.name=l),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u59D4\u6258\u5355\u4F4D",prop:"unit"},{default:a(()=>[e(z,{modelValue:d.unit,"onUpdate:modelValue":u[2]||(u[2]=l=>d.unit=l),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u9879\u76EE\u5DE5\u671F",prop:"date"},{default:a(()=>[e(N,{modelValue:d.date,"onUpdate:modelValue":u[3]||(u[3]=l=>d.date=l),type:"date",size:"default",placeholder:"\u8BF7\u9009\u62E9","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u8D1F\u8D23\u4EBA",prop:"user"},{default:a(()=>[e(C,{modelValue:d.user,"onUpdate:modelValue":u[4]||(u[4]=l=>d.user=l),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u9879\u76EE\u72B6\u6001",prop:"status"},{default:a(()=>[e(C,{modelValue:d.status,"onUpdate:modelValue":u[5]||(u[5]=l=>d.status=l),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(m,{size:"default",color:"#4371EE"},{default:a(()=>[n(" \u67E5\u8BE2 ")]),_:1}),e(m,{size:"default",plain:"",onClick:M},{default:a(()=>[n(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"]),T(" </ElCol> "),t("div",se,[e(m,{color:"#4371EE",class:"add-btn",size:"default",icon:I(ee),onClick:u[6]||(u[6]=l=>_.value=!0)},{default:a(()=>[n(" \u521B\u5EFA\u9879\u76EE ")]),_:1},8,["icon"])]),e(V,{border:"",id:"userTable",class:"table",data:g.value,style:ue({height:`${I(J)}px`,overflow:"auto"})},{default:a(()=>[e(o,{prop:"code",label:"\u9879\u76EE\u7F16\u53F7"}),e(o,{prop:"name",label:"\u9879\u76EE\u540D\u79F0"}),e(o,{prop:"unit",label:"\u59D4\u6258\u5355\u4F4D"}),e(o,{prop:"kaigong",label:"\u5F00\u5DE5\u65E5\u9879"}),e(o,{prop:"date",label:"\u9A8C\u6536\u65E5\u671F"}),e(o,{prop:"user",label:"\u9879\u76EE\u8D1F\u8D23\u4EBA"}),e(o,{prop:"status",label:"\u9879\u76EE\u72B6\u6001"},{default:a(l=>[]),_:1}),e(o,{fixed:"right",label:"\u64CD\u4F5C",width:"250px"},{default:a(l=>[e(m,{link:"",type:"text",size:"default",onClick:U=>H(l.row)},{default:a(()=>[n(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"]),e(m,{link:"",type:"text",size:"default",onClick:U=>q(l.row)},{default:a(()=>[n(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),e(m,{link:"",type:"text",size:"default",onClick:u[7]||(u[7]=U=>x.value=!0)},{default:a(()=>[n(" \u6210\u5458\u7BA1\u7406 ")]),_:1})]),_:1})]),_:1},8,["data","style"]),e(P,{class:"pagination",background:"",layout:"total,sizes,prev, pager, next,jumper",total:Y.value,"current-page":d.pageNum,"page-sizes":[10,20,50,100],"page-size":d.pageSize,onSizeChange:j,onCurrentChange:O},null,8,["total","current-page","page-size"]),T("\u65B0\u589E\u6216\u7F16\u8F91\u89D2\u8272"),e(y,{class:"main-dialog",modelValue:_.value,"onUpdate:modelValue":u[17]||(u[17]=l=>_.value=l),title:s.id?"\u7F16\u8F91\u9879\u76EE":"\u521B\u5EFA\u9879\u76EE",width:"480px"},{footer:a(()=>[t("span",ne,[e(m,{size:"default",onClick:u[15]||(u[15]=l=>_.value=!1)},{default:a(()=>[n("\u53D6 \u6D88")]),_:1}),e(m,{color:"#4371EE",size:"default",onClick:u[16]||(u[16]=l=>R(B.value))},{default:a(()=>[n("\u63D0 \u4EA4")]),_:1})])]),default:a(()=>[t("div",de,[e(S,{ref_key:"addFormRef",ref:B,model:s,rules:$,"label-width":"80px","label-position":"left"},{default:a(()=>[e(p,{label:"\u9879\u76EE\u7F16\u53F7",prop:"roleName"},{default:a(()=>[e(b,{modelValue:s.code,"onUpdate:modelValue":u[8]||(u[8]=l=>s.code=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u9879\u76EE\u540D\u79F0",prop:"roleName"},{default:a(()=>[e(b,{modelValue:s.name,"onUpdate:modelValue":u[9]||(u[9]=l=>s.name=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u59D4\u6258\u5355\u4F4D",prop:"roleName"},{default:a(()=>[e(b,{modelValue:s.unit,"onUpdate:modelValue":u[10]||(u[10]=l=>s.unit=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u9879\u76EE\u5DE5\u671F",prop:"roleName"},{default:a(()=>[e(N,{modelValue:s.date,"onUpdate:modelValue":u[11]||(u[11]=l=>s.date=l),type:"date",size:"default",placeholder:"\u8BF7\u9009\u62E9","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u8D1F\u8D23\u4EBA",prop:"roleName"},{default:a(()=>[e(b,{modelValue:s.user,"onUpdate:modelValue":u[12]||(u[12]=l=>s.user=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"roleName"},{default:a(()=>[e(b,{modelValue:s.phone,"onUpdate:modelValue":u[13]||(u[13]=l=>s.phone=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u9879\u76EE\u72B6\u6001"},{default:a(()=>[e(C,{modelValue:s.status,"onUpdate:modelValue":u[14]||(u[14]=l=>s.status=l),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"]),e(y,{class:"main-dialog",modelValue:h.value,"onUpdate:modelValue":u[18]||(u[18]=l=>h.value=l),title:"\u9879\u76EE\u8BE6\u60C5",width:"480px"},{default:a(()=>[t("div",ie,[t("ul",pe,[t("li",re,[me,n(" "+f(F.value.code),1)]),t("li",Ee,[Fe,n(" "+f(F.value.name),1)]),t("li",ce,[fe,n(" "+f(F.value.unit),1)]),t("li",_e,[be,n(" "+f(F.value.date),1)]),t("li",De,[ge,n(" "+f(F.value.user),1)]),t("li",ve,[Ve,n(" "+f(F.value.phone),1)]),t("li",Be,[he,n(" "+f(F.value.status),1)]),xe]),e(V,{border:"",class:"table",data:g.value,style:{"margin-top":"10px"}},{default:a(()=>[e(o,{prop:"code",label:"\u5E10\u53F7"}),e(o,{prop:"user",label:"\u6210\u5458\u540D\u79F0"}),e(o,{prop:"name",label:"\u9879\u76EE\u89D2\u8272"}),e(o,{prop:"date",label:"\u9A8C\u6536\u65E5\u671F"})]),_:1},8,["data"])])]),_:1},8,["modelValue"]),e(y,{class:"main-dialog",modelValue:x.value,"onUpdate:modelValue":u[19]||(u[19]=l=>x.value=l),title:"\u6210\u5458\u7BA1\u7406",width:"1000px"},{default:a(()=>[t("div",ze,[t("div",Ce,[ye,e(m,{plain:"",class:"add-btn",color:"#4371EE",size:"default"},{default:a(()=>[n(" \u6DFB\u52A0\u6210\u5458 ")]),_:1}),e(V,{border:"",class:"table",data:g.value,style:{"margin-top":"10px"}},{default:a(()=>[e(o,{type:"selection",width:"55px"}),e(o,{prop:"code",label:"\u5E10\u53F7"}),e(o,{prop:"user",label:"\u6210\u5458\u540D\u79F0"}),e(o,{prop:"name",label:"\u9879\u76EE\u89D2\u8272"}),e(o,{prop:"date",label:"\u9A8C\u6536\u65E5\u671F"})]),_:1},8,["data"])]),t("div",Ae,[ke,e(m,{plain:"",class:"add-btn",color:"#4371EE",size:"default"},{default:a(()=>[n(" \u79FB\u9664\u6210\u5458 ")]),_:1}),e(V,{border:"",class:"table",data:g.value,style:{"margin-top":"10px"}},{default:a(()=>[e(o,{type:"selection",width:"50px"}),e(o,{prop:"code",label:"\u5E10\u53F7"}),e(o,{prop:"user",label:"\u6210\u5458\u540D\u79F0"}),e(o,{prop:"name",label:"\u9879\u76EE\u89D2\u8272"}),e(o,{prop:"date",label:"\u9A8C\u6536\u65E5\u671F"})]),_:1},8,["data"])])])]),_:1},8,["modelValue"])])}}});var Te=G(we,[["__scopeId","data-v-28fe4f27"]]);export{Te as default};
