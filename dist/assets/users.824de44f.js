import{u as R}from"./useTableSetting.198d7378.js";import{_ as H,d as J,r as f,a as g,x as P,o as q,y as s,b as L,c as G,f as e,w as a,j as i,l as k,e as V,g as y,z as K,A as Q,B as W}from"./index.4d3a0603.js";const X={class:"main-content"},Z={class:"btns"},ee={class:"dialog-form"},ue={class:"dialog-footer"},le=J({__name:"users",setup(ae){const N=f([{id:1,code:"xc-001",name:"\u6D4B\u8BD5\u9879\u76EE",unit:"\u5355\u4F4D\u540D\u79F0",date:"2023-09-10",user:"\u5F20\u4E09",kaigong:"2023-09-10",status:1}]),b=f(null),h=f({}),o=g({code:"",name:"",unit:"",date:"",user:"",status:"",pageNum:1,pageSize:20}),U=f(0),w=g({roleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",trigger:"blur"}]}),F=async()=>{},S=n=>{h.value=JSON.parse(JSON.stringify(n))},T=()=>{b.value.resetFields(),o.pageNum=1,F()},A=n=>{o.pageNum=1,o.pageSize=n,F()},Y=n=>{o.pageNum=n,F()},m=f(!1),c=f(null),t=g({id:"",code:"",name:"",unit:"",date:"",user:"",status:"",phone:""}),B=n=>{Object.keys(n).forEach(u=>t[u]="")};P(m,n=>{n||(c.value.clearValidate(),B(t))});const $=async n=>{await W(n),B()},v=async n=>{m.value=!0,Object.keys(n).forEach(u=>{u in t&&(t[u]=n[u])})};q(()=>{F()});const{maxTableHeight:M,setTableMaxHeight:te}=R({id:"userTable",offsetBottom:92});return(n,u)=>{const _=s("ElInput"),d=s("ElFormItem"),z=s("el-date-picker"),D=s("ElSelect"),r=s("ElButton"),C=s("ElForm"),p=s("ElTableColumn"),I=s("ElTable"),j=s("ElPagination"),E=s("el-input"),O=s("ElDialog");return L(),G("div",X,[e(C,{ref_key:"searchFormRef",ref:b,model:o,inline:"",class:"search-form","label-width":"68px","label-position":"left"},{default:a(()=>[e(d,{label:"\u9879\u76EE\u7F16\u53F7",prop:"code"},{default:a(()=>[e(_,{modelValue:o.code,"onUpdate:modelValue":u[0]||(u[0]=l=>o.code=l),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u540D\u79F0",prop:"name"},{default:a(()=>[e(_,{modelValue:o.name,"onUpdate:modelValue":u[1]||(u[1]=l=>o.name=l),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u59D4\u6258\u5355\u4F4D",prop:"unit"},{default:a(()=>[e(_,{modelValue:o.unit,"onUpdate:modelValue":u[2]||(u[2]=l=>o.unit=l),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u5DE5\u671F",prop:"date"},{default:a(()=>[e(z,{modelValue:o.date,"onUpdate:modelValue":u[3]||(u[3]=l=>o.date=l),type:"date",size:"default",placeholder:"\u8BF7\u9009\u62E9","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u8D1F\u8D23\u4EBA",prop:"user"},{default:a(()=>[e(D,{modelValue:o.user,"onUpdate:modelValue":u[4]||(u[4]=l=>o.user=l),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u72B6\u6001",prop:"status"},{default:a(()=>[e(D,{modelValue:o.status,"onUpdate:modelValue":u[5]||(u[5]=l=>o.status=l),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(r,{size:"default",color:"#4371EE"},{default:a(()=>[i(" \u67E5\u8BE2 ")]),_:1}),e(r,{size:"default",plain:"",onClick:T},{default:a(()=>[i(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"]),k(" </ElCol> "),V("div",Z,[e(r,{class:"add-btn",color:"#4371EE",size:"default",icon:y(K),onClick:u[6]||(u[6]=l=>m.value=!0)},{default:a(()=>[i(" \u65B0\u589E\u89D2\u8272 ")]),_:1},8,["icon"])]),e(I,{border:"",id:"userTable",class:"table",data:N.value,style:Q({height:`${y(M)}px`,overflow:"auto"})},{default:a(()=>[e(p,{prop:"code",label:"\u9879\u76EE\u7F16\u53F7"}),e(p,{prop:"name",label:"\u9879\u76EE\u540D\u79F0"}),e(p,{prop:"unit",label:"\u59D4\u6258\u5355\u4F4D"}),e(p,{prop:"kaigong",label:"\u5F00\u5DE5\u65E5\u9879"}),e(p,{prop:"date",label:"\u9A8C\u6536\u65E5\u671F"}),e(p,{prop:"user",label:"\u9879\u76EE\u8D1F\u8D23\u4EBA"}),e(p,{prop:"status",label:"\u9879\u76EE\u72B6\u6001"},{default:a(l=>[]),_:1}),e(p,{fixed:"right",label:"\u64CD\u4F5C",width:"200"},{default:a(l=>[e(r,{link:"",type:"text",size:"default",onClick:x=>S(l.row)},{default:a(()=>[i(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"]),e(r,{link:"",type:"text",size:"default",onClick:x=>v(l.row)},{default:a(()=>[i(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),e(r,{link:"",type:"text",size:"default",onClick:x=>v(l.row)},{default:a(()=>[i(" \u6210\u5458\u7BA1\u7406 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","style"]),e(j,{class:"pagination",background:"",layout:"total,sizes,prev, pager, next,jumper",total:U.value,"current-page":o.pageNum,"page-sizes":[10,20,50,100],"page-size":o.pageSize,onSizeChange:A,onCurrentChange:Y},null,8,["total","current-page","page-size"]),k("\u65B0\u589E\u6216\u7F16\u8F91\u89D2\u8272"),e(O,{class:"main-dialog",modelValue:m.value,"onUpdate:modelValue":u[16]||(u[16]=l=>m.value=l),title:t.id?"\u7F16\u8F91\u9879\u76EE":"\u521B\u5EFA\u9879\u76EE",width:"480px"},{footer:a(()=>[V("span",ue,[e(r,{size:"default",onClick:u[14]||(u[14]=l=>m.value=!1)},{default:a(()=>[i("\u53D6 \u6D88")]),_:1}),e(r,{color:"#4371EE",size:"default",onClick:u[15]||(u[15]=l=>$(c.value))},{default:a(()=>[i("\u63D0 \u4EA4")]),_:1})])]),default:a(()=>[V("div",ee,[e(C,{ref_key:"addFormRef",ref:c,model:t,rules:w,"label-width":"80px","label-position":"left"},{default:a(()=>[e(d,{label:"\u9879\u76EE\u7F16\u53F7",prop:"roleName"},{default:a(()=>[e(E,{modelValue:t.code,"onUpdate:modelValue":u[7]||(u[7]=l=>t.code=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u540D\u79F0",prop:"roleName"},{default:a(()=>[e(E,{modelValue:t.name,"onUpdate:modelValue":u[8]||(u[8]=l=>t.name=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u59D4\u6258\u5355\u4F4D",prop:"roleName"},{default:a(()=>[e(E,{modelValue:t.unit,"onUpdate:modelValue":u[9]||(u[9]=l=>t.unit=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u5DE5\u671F",prop:"roleName"},{default:a(()=>[e(z,{modelValue:t.date,"onUpdate:modelValue":u[10]||(u[10]=l=>t.date=l),type:"date",size:"default",placeholder:"\u8BF7\u9009\u62E9","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u8D1F\u8D23\u4EBA",prop:"roleName"},{default:a(()=>[e(E,{modelValue:t.user,"onUpdate:modelValue":u[11]||(u[11]=l=>t.user=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"roleName"},{default:a(()=>[e(E,{modelValue:t.phone,"onUpdate:modelValue":u[12]||(u[12]=l=>t.phone=l),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u9879\u76EE\u72B6\u6001"},{default:a(()=>[e(D,{modelValue:t.status,"onUpdate:modelValue":u[13]||(u[13]=l=>t.status=l),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"])])}}});var de=H(le,[["__scopeId","data-v-658498fe"]]);export{de as default};
