import{u as H}from"./useTableSetting.58ef48c3.js";import{_ as M,d as P,r as m,a as b,x as q,o as L,y as d,b as O,c as G,f as e,w as l,j as p,l as V,e as B,g as z,z as J,A as K,B as Q}from"./index.7b73c6f6.js";const W={class:"main-content"},X={class:"btns"},Y={class:"dialog-form"},Z={class:"dialog-footer"},ee=P({__name:"list",setup(le){const w=m([{id:1,code:"xc-001",name:"\u6D4B\u8BD5\u9879\u76EE",unit:"\u5355\u4F4D\u540D\u79F0",date:"2023-09-10",user:"\u5F20\u4E09",kaigong:"2023-09-10",status:1}]),C=m(null);m({});const a=b({code:"",name:"",unit:"",date:"",user:"",status:"",pageNum:1,pageSize:20}),k=m(0),y=b({roleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",trigger:"blur"}]}),f=async()=>{},A=()=>{C.value.resetFields(),a.pageNum=1,f()},N=o=>{a.pageNum=1,a.pageSize=o,f()},S=o=>{a.pageNum=o,f()},c=m(!1),E=m(null),s=b({id:"",code:"",name:"",unit:"",date:"",user:"",status:"",phone:""}),D=o=>{Object.keys(o).forEach(u=>s[u]="")};q(c,o=>{o||(E.value.clearValidate(),D(s))});const T=async o=>{await Q(o),D()},F=async o=>{};L(()=>{f()});const{maxTableHeight:U,setTableMaxHeight:ue}=H({id:"userTable",offsetBottom:92});return(o,u)=>{const x=d("ElInput"),r=d("ElFormItem"),_=d("ElSelect"),i=d("ElButton"),h=d("ElForm"),n=d("ElTableColumn"),$=d("el-upload"),I=d("ElTable"),j=d("ElPagination"),v=d("el-input"),R=d("ElDialog");return O(),G("div",W,[e(h,{ref_key:"searchFormRef",ref:C,model:a,inline:"",class:"search-form","label-width":"68px","label-position":"left"},{default:l(()=>[e(r,{label:"\u9053\u8DEF\u7F16\u53F7",prop:"code"},{default:l(()=>[e(x,{modelValue:a.code,"onUpdate:modelValue":u[0]||(u[0]=t=>a.code=t),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u9053\u8DEF\u540D\u79F0",prop:"name"},{default:l(()=>[e(x,{modelValue:a.name,"onUpdate:modelValue":u[1]||(u[1]=t=>a.name=t),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u9879\u76EE",prop:"status"},{default:l(()=>[e(_,{modelValue:a.unit,"onUpdate:modelValue":u[2]||(u[2]=t=>a.unit=t),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u72B6\u6001",prop:"status"},{default:l(()=>[e(_,{modelValue:a.unit,"onUpdate:modelValue":u[3]||(u[3]=t=>a.unit=t),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(i,{size:"default",color:"#4371EE"},{default:l(()=>[p(" \u67E5\u8BE2 ")]),_:1}),e(i,{size:"default",plain:"",onClick:A},{default:l(()=>[p(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"]),V(" </ElCol> "),B("div",X,[e(i,{class:"add-btn",color:"#4371EE",size:"default",icon:z(J),onClick:u[4]||(u[4]=t=>c.value=!0)},{default:l(()=>[p(" \u521B\u5EFA\u9053\u8DEF ")]),_:1},8,["icon"])]),e(I,{border:"",id:"userTable",class:"table",data:w.value,style:K({height:`${z(U)}px`,overflow:"auto"})},{default:l(()=>[e(n,{prop:"code",label:"\u9879\u76EE\u7F16\u53F7",width:"120px"}),e(n,{prop:"name",label:"\u9879\u76EE\u540D\u79F0",width:"120px"}),e(n,{prop:"unit",label:"\u9053\u8DEF\u540D\u79F0 ",width:"120px"}),e(n,{prop:"status",label:"\u72B6\u6001",width:"120px"},{default:l(t=>[]),_:1}),e(n,{prop:"kaigong",label:"\u7BA1\u4E95\u7BA1\u7EBF\u6570",width:"120px"}),e(n,{prop:"date",label:"\u68C0\u6D4B\u4EFB\u52A1\u6570",width:"120px"}),e(n,{prop:"user",label:"\u6E05\u6DE4\u4EFB\u52A1\u6570",width:"120px"}),e(n,{prop:"kaigong",label:"\u5224\u8BFB\u4EFB\u52A1\u6570",width:"120px"}),e(n,{prop:"date",label:"\u5F85\u5BA1\u4EFB\u52A1\u6570",width:"120px"}),e(n,{prop:"user",label:"\u6E05\u6DE4\u4EFB\u52A1\u6570",width:"120px"}),e(n,{fixed:"right",label:"\u64CD\u4F5C",width:"350px"},{default:l(t=>[e($,{class:"upload-demo",ref:"upload",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"auto-upload":!1},{default:l(()=>[e(i,{link:"",type:"text",size:"default",onClick:g=>F(t.row)},{default:l(()=>[p(" \u5BFC\u5165CAD ")]),_:2},1032,["onClick"])]),_:2},1536),e(i,{link:"",type:"text",size:"default",onClick:g=>F(t.row)},{default:l(()=>[p(" \u5BFC\u51FACAD ")]),_:2},1032,["onClick"]),e(i,{link:"",type:"text",size:"default",onClick:g=>F(t.row)},{default:l(()=>[p(" \u5BFC\u51FA\u6570\u636E ")]),_:2},1032,["onClick"]),e(i,{link:"",type:"text",size:"default",onClick:g=>F(t.row)},{default:l(()=>[p(" \u5BFC\u5165\u62A5\u544A\u6570\u636E ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","style"]),e(j,{class:"pagination",background:"",layout:"total,sizes,prev, pager, next,jumper",total:k.value,"current-page":a.pageNum,"page-sizes":[10,20,50,100],"page-size":a.pageSize,onSizeChange:N,onCurrentChange:S},null,8,["total","current-page","page-size"]),V("\u65B0\u589E\u6216\u7F16\u8F91\u89D2\u8272"),e(R,{class:"main-dialog",modelValue:c.value,"onUpdate:modelValue":u[10]||(u[10]=t=>c.value=t),title:s.id?"\u7F16\u8F91\u9053\u8DEF":"\u521B\u5EFA\u9053\u8DEF",width:"480px"},{footer:l(()=>[B("span",Z,[e(i,{size:"default",onClick:u[8]||(u[8]=t=>c.value=!1)},{default:l(()=>[p("\u53D6 \u6D88")]),_:1}),e(i,{color:"#4371EE",size:"default",onClick:u[9]||(u[9]=t=>T(E.value))},{default:l(()=>[p("\u63D0 \u4EA4")]),_:1})])]),default:l(()=>[B("div",Y,[e(h,{ref_key:"addFormRef",ref:E,model:s,rules:y,"label-width":"80px","label-position":"left"},{default:l(()=>[e(r,{label:"\u9053\u8DEF\u7F16\u53F7",prop:"roleName"},{default:l(()=>[e(v,{modelValue:s.code,"onUpdate:modelValue":u[5]||(u[5]=t=>s.code=t),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u9053\u8DEF\u540D\u79F0",prop:"roleName"},{default:l(()=>[e(v,{modelValue:s.name,"onUpdate:modelValue":u[6]||(u[6]=t=>s.name=t),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u6240\u5C5E\u9879\u76EE"},{default:l(()=>[e(_,{modelValue:s.status,"onUpdate:modelValue":u[7]||(u[7]=t=>s.status=t),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"])])}}});var oe=M(ee,[["__scopeId","data-v-b131f8e4"]]);export{oe as default};
