import{u as M}from"./useTableSetting.9e0ce64d.js";import{_ as H,d as L,r as c,a as E,x as O,o as P,y as s,b as q,e as G,g as e,w as u,k as r,m as C,f as F,h as x,z as J,A as K,L as Q,B as W}from"./index.a0482b44.js";/* empty css                   *//* empty css                 */const X={class:"main-content"},Y={class:"btns"},Z={class:"dialog-form"},ee={class:"dialog-footer"},le=L({__name:"role",setup(ue){const z=c([{id:1,code:"xc-001",name:"\u6D4B\u8BD5\u9879\u76EE",unit:"\u5355\u4F4D\u540D\u79F0",date:"2023-09-10",user:"\u5F20\u4E09",kaigong:"2023-09-10",status:1}]),g=c(null);c({});const n=E({code:"",name:"",unit:"",date:"",user:"",status:"",pageNum:1,pageSize:20}),V=c(0),h=E({roleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",trigger:"blur"}]}),p=async()=>{},k=async a=>{await Q.confirm("\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u4EA4",{confirmButtonText:"\u786E  \u5B9A",cancelButtonText:"\u53D6  \u6D88",type:"warning"})},y=()=>{g.value.resetFields(),n.pageNum=1,p()},w=a=>{n.pageNum=1,n.pageSize=a,p()},N=a=>{n.pageNum=a,p()},i=c(!1),_=c(null),o=E({id:"",code:"",name:"",unit:"",date:"",user:"",status:"",phone:""}),D=a=>{Object.keys(a).forEach(l=>o[l]="")};O(i,a=>{a||(_.value.clearValidate(),D(o))});const T=async a=>{await W(a),D()},S=async a=>{i.value=!0,Object.keys(a).forEach(l=>{l in o&&(o[l]=a[l])})};P(()=>{p()});const{maxTableHeight:A,setTableMaxHeight:te}=M({id:"userTable",offsetBottom:92});return(a,l)=>{const b=s("ElInput"),m=s("ElFormItem"),d=s("ElButton"),v=s("ElForm"),f=s("ElTableColumn"),U=s("ElTable"),$=s("ElPagination"),B=s("el-input"),I=s("ElSelect"),R=s("ElDialog");return q(),G("div",X,[e(v,{ref_key:"searchFormRef",ref:g,model:n,inline:"",class:"search-form","label-width":"68px","label-position":"left"},{default:u(()=>[e(m,{label:"\u89D2\u8272\u540D\u79F0",prop:"name"},{default:u(()=>[e(b,{modelValue:n.name,"onUpdate:modelValue":l[0]||(l[0]=t=>n.name=t),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u59D3\u540D",prop:"code"},{default:u(()=>[e(b,{modelValue:n.code,"onUpdate:modelValue":l[1]||(l[1]=t=>n.code=t),size:"default",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),e(m,null,{default:u(()=>[e(d,{size:"default",color:"#4371EE"},{default:u(()=>[r(" \u67E5\u8BE2 ")]),_:1}),e(d,{size:"default",plain:"",onClick:y},{default:u(()=>[r(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"]),C(" </ElCol> "),F("div",Y,[e(d,{class:"add-btn",color:"#4371EE",size:"default",icon:x(J),onClick:l[2]||(l[2]=t=>i.value=!0)},{default:u(()=>[r(" \u6DFB\u52A0\u6210\u5458 ")]),_:1},8,["icon"])]),e(U,{border:"",id:"userTable",class:"table",data:z.value,style:K({height:`${x(A)}px`,overflow:"auto"})},{default:u(()=>[e(f,{prop:"code",label:"\u89D2\u8272\u540D\u79F0"}),e(f,{prop:"name",label:"\u59D3\u540D"}),e(f,{prop:"unit",label:"\u6743\u9650\u8BF4\u660E"}),e(f,{fixed:"right",label:"\u64CD\u4F5C",width:"120"},{default:u(t=>[e(d,{link:"",type:"text",size:"default",onClick:j=>S(t.row)},{default:u(()=>[r(" \u4FEE\u6539 ")]),_:2},1032,["onClick"]),e(d,{link:"",type:"text",size:"default",onClick:j=>k(t.row)},{default:u(()=>[r(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","style"]),e($,{class:"pagination",background:"",layout:"total,sizes,prev, pager, next,jumper",total:V.value,"current-page":n.pageNum,"page-sizes":[10,20,50,100],"page-size":n.pageSize,onSizeChange:w,onCurrentChange:N},null,8,["total","current-page","page-size"]),C("\u65B0\u589E\u6216\u7F16\u8F91\u89D2\u8272"),e(R,{class:"main-dialog",modelValue:i.value,"onUpdate:modelValue":l[8]||(l[8]=t=>i.value=t),title:o.id?"\u6DFB\u52A0\u6210\u5458":"\u4FEE\u6539\u6210\u5458",width:"480px"},{footer:u(()=>[F("span",ee,[e(d,{size:"default",onClick:l[6]||(l[6]=t=>i.value=!1)},{default:u(()=>[r("\u53D6 \u6D88")]),_:1}),e(d,{color:"#4371EE",size:"default",onClick:l[7]||(l[7]=t=>T(_.value))},{default:u(()=>[r("\u63D0 \u4EA4")]),_:1})])]),default:u(()=>[F("div",Z,[e(v,{ref_key:"addFormRef",ref:_,model:o,rules:h,"label-width":"80px","label-position":"left"},{default:u(()=>[e(m,{label:"\u59D3\u540D",prop:"roleName"},{default:u(()=>[e(B,{modelValue:o.code,"onUpdate:modelValue":l[3]||(l[3]=t=>o.code=t),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u89D2\u8272\u540D\u79F0",prop:"roleName"},{default:u(()=>[e(B,{modelValue:o.name,"onUpdate:modelValue":l[4]||(l[4]=t=>o.name=t),size:"default",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D",maxlength:"10"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u6743\u9650\u8BBE\u7F6E"},{default:u(()=>[e(I,{modelValue:o.status,"onUpdate:modelValue":l[5]||(l[5]=t=>o.status=t),size:"default",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"])])}}});var de=H(le,[["__scopeId","data-v-0bcc0514"]]);export{de as default};
